<!DOCTYPE html>
<html autopagermatchedrules="1" style="height: 100%;" lang="ja-JP"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title></title>
  <link href="css.css" rel="stylesheet">
  <link href="impress-demo.css" media="screen" rel="stylesheet" type="text/css">
  <link href="prettify.css" media="screen" rel="stylesheet" type="text/css">
  <link href="app.css" media="screen" rel="stylesheet" type="text/css">
</head>
<body style="height: 100%; overflow: hidden;" class="impress-supported impress-enabled impress-on-title">

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div style="position: absolute; -moz-transform-origin: left top; -moz-transition: all 0ms ease-in-out 0ms ; -moz-transform-style: preserve-3d; top: 50%; left: 50%; -moz-transform: perspective(500px) scale(2);" id="impress"><div style="position: absolute; -moz-transform-origin: left top; -moz-transition: all 0ms ease-in-out 0ms ; -moz-transform-style: preserve-3d; -moz-transform: rotateZ(0deg) rotateY(0deg) rotateX(0deg) translate3d(0px, 0px, 0px);">
  <div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.5); -moz-transform-style: preserve-3d;" data-scale="0.5" id="title" class="step active present" data-y="0" data-x="0"><h1><img src="perl-entrance_t.png" alt="Perl入学式"></h1>

<!-- data-scale="0.5" -->
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-2" class="step future" data-y="0" data-x="1024"><h1>Perl入学式 #7</h1>

<p><a href="http://www.perl-entrance.org/">http://www.perl-entrance.org</a></p>

<ul>
<li>日時
<ul>
<li>2012年7月22日（日） 14:00 - 17:00</li>
</ul></li>
<li>会場
<ul>
<li>新大阪コワーキング</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-3" class="step future" data-y="0" data-x="2048"><h2>Perl入学式について</h2>

<ul>
<li>Perl入学式(<a href="http://www.perl-entrance.org/">http://www.perl-entrance.org</a>)は, プログラミング未経験者からPerl初心者を対象としたワークショップです</li>
<li>公式Twitter
<ul>
<li><a href="http://twitter.com/perl_entrance">@Perl_Entrance</a></li>
</ul></li>
<li>公式ハッシュタグ
<ul>
<li>#Perl入学式</li>
</ul></li>
<li>公式Facebookページ
<ul>
<li><a href="https://www.facebook.com/PerlEntrance">https://www.facebook.com/PerlEntrance</a></li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-4" class="step future" data-y="0" data-x="3072"><h2>ロゴについて</h2>

<p><img src="perl-entrance_t_300.png" alt="Perl入学式"></p>

<ul>
<li>横山陽平さん(<a href="http://yokoyamayohei.com/">http://yokoyamayohei.com/</a>)にデザインしていただきました</li>
<li>この場をお借りしてお礼申し上げます</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-5" class="step future" data-y="0" data-x="4096"><h2>IT勉強会スタンプラリー</h2>

<p><img src="it-stamp.png" alt="IT勉強会スタンプラリー"></p>

<ul>
<li>Perl入学式は, IT勉強会スタンプラリー(<a href="http://it-stamp.jp/">http://it-stamp.jp/</a>)に参加しています</li>
<li>今回のPerl入学式は, スタンプラリーの対象となる勉強会です</li>
<li>台紙は勉強会終了後にお渡しします</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(5120px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-6" class="step future" data-y="0" data-x="5120"><h2>喋ってる人</h2>

<ul>
<li>名前    : papix (ぱぴっくす)</li>
<li>Twitter : <a href="http://twitter.com/__papix__">@__papix__</a></li>
<li>仕事    : 大学院生</li>
<li>一言    : Perlって, 本当にイイですねぇ.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(6144px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-7" class="step future" data-y="0" data-x="6144"><h2><a href="http://localhost:3000/yapcasia.org/2012/">YAPC::Asia</a>に行こう!</h2>

<ul>
<li>Yet Another Perl Conference
<ul>
<li>日本最大級のPerlの祭典!</li>
<li>9月27日から29日まで, 東京大学で開催</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(7168px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-8" class="step future" data-y="0" data-x="7168"><h2>Perl入学式も出ます!(予定)</h2>

<ul>
<li><a href="http://yapcasia.org/2012/talk/show/2c8dfc82-bd2b-11e1-a568-b39f6aeab6a4">Perl入学式をやってみた!</a></li>
<li>よければ, "Like"ボタンや"イイネ!"ボタンなどを押してもらえると...(ry</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(8192px, 0px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-9" class="step future" data-y="0" data-x="8192"><h2>本日の内容</h2>

<ul>
<li>復習問題とお約束</li>
<li>mapとgrep</li>
<li>めざせ! 正規表現マスター!</li>
<li>最終問題</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-10" class="step future" data-y="768" data-x="0"><h2>復習問題</h2>

<p><strong>目標時間 : 20分</strong></p>

<ul>
<li>端末から, 文字列を入力しよう.</li>
<li>その文字列に<code>perl</code>が含まれる場合, <code>We love perl!</code>と表示しよう.</li>
<li><code>END</code>が入力されるまで, この処理を続けよう.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.5); -moz-transform-style: preserve-3d;" id="step-11" data-scale="0.5" class="step future" data-y="768" data-x="1024"><h2>休憩(10分)</h2>

<!-- data-scale="0.5" -->
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-12" class="step future" data-y="768" data-x="2048"><h2>お約束</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="com">#!/usr/bin/env perl</span></code></li><li class="L1"><code><span class="kwd">use</span><span class="pln"> utf8</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">use</span><span class="pln"> strict</span><span class="pun">;</span></code></li><li class="L3"><code><span class="kwd">use</span><span class="pln"> warnings</span><span class="pun">;</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pln">binmode STDIN</span><span class="pun">,</span><span class="pln">  </span><span class="str">":encoding(UTF-8)"</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pln">binmode STDOUT</span><span class="pun">,</span><span class="pln"> </span><span class="str">":utf8"</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pln">binmode STDERR</span><span class="pun">,</span><span class="pln"> </span><span class="str">":utf8"</span><span class="pun">;</span></code></li></ol></pre>

<ul>
<li>スクリプトを書く前に, このお約束のコードを書くようにしましょう.</li>
<li>これ以下, お約束は省略します.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-13" class="step future" data-y="768" data-x="3072"><h2>mapとgrep</h2>

<ul>
<li>mapとgrepって何?
<ul>
<li>｢配列を操作する, 結構スマートなやり方｣です!</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-14" class="step future" data-y="768" data-x="4096"><h2>実際にmapを使ってみよう!</h2>

<ul>
<li>例えば, ある配列の全ての要素に含まれる<code>@</code>を<code>at</code>に書き換えたい場合を考えます.
<ul>
<li>要はスパム対策ですね.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(5120px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-15" class="step future" data-y="768" data-x="5120"><h2>今までの場合...</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@mails</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="str">'papix2011@gmail.com'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'hogehoge@fugafuga.com'</span><span class="pun">);</span></code></li><li class="L1"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@no_spam</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">for</span><span class="pln"> </span><span class="kwd">my</span><span class="pln"> $mail </span><span class="pun">(</span><span class="lit">@mails</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    $mail </span><span class="pun">=~</span><span class="pln"> s</span><span class="pun">/</span><span class="pln">\@</span><span class="pun">/</span><span class="pln"> at </span><span class="pun">/;</span></code></li><li class="L4"><code><span class="pln">    push </span><span class="lit">@no_spam</span><span class="pun">,</span><span class="pln"> $mail</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pun">}</span></code></li><li class="L6"><code><span class="kwd">print</span><span class="pln"> join</span><span class="pun">(</span><span class="str">"\n"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@no_spam</span><span class="pun">);</span></code></li></ol></pre>

<ul>
<li>今までに紹介した方法で実現しようとすると, おそらくこんな感じになると思います.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(6144px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-16" class="step future" data-y="768" data-x="6144"><h2>mapを使うと...</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@mails</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="str">'papix2011@gmail.com'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'hogehoge@fugafuga.com'</span><span class="pun">);</span></code></li><li class="L1"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@no_spam</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">{</span><span class="pln"> </span><span class="kwd">my</span><span class="pln"> $mail </span><span class="pun">=</span><span class="pln"> $_</span><span class="pun">;</span><span class="pln"> $mail </span><span class="pun">=~</span><span class="pln"> s</span><span class="pun">/</span><span class="pln">\@</span><span class="pun">/</span><span class="pln"> at </span><span class="pun">/;</span><span class="pln"> $mail</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="lit">@mails</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">print</span><span class="pln"> join</span><span class="pun">(</span><span class="str">"\n"</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@no_spam</span><span class="pun">);</span></code></li></ol></pre>

<ul>
<li>たった3行で実現できます! とってもシンプルでいいですね.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(7168px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-17" class="step future" data-y="768" data-x="7168"><h2>mapの使い方</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@no_spam</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">{</span><span class="pln"> </span><span class="kwd">my</span><span class="pln"> $mail </span><span class="pun">=</span><span class="pln"> $_</span><span class="pun">;</span><span class="pln"> $mail </span><span class="pun">=~</span><span class="pln"> s</span><span class="pun">/</span><span class="pln">\@</span><span class="pun">/</span><span class="pln"> at </span><span class="pun">/;</span><span class="pln"> $mail</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="lit">@mails</span><span class="pun">;</span></code></li></ol></pre>

<ul>
<li>右側に, 入力となる配列を書きます. 今回の場合, <code>@mails</code>です.</li>
<li>mapは, <code>{</code>と<code>}</code>で囲った中に, 配列(今回の場合は<code>@mails</code>)の各要素に対して行いたい処理を書きます.
<ul>
<li>入力となる配列の各要素は<code>$_</code>に格納されます. 但しこれは元の要素へのリファレンスなので, 元の要素を変更したくない場合は, 例のように別の変数に格納する必要があります.</li>
</ul></li>
<li>左側に, 結果を格納する配列を書きます. 今回の場合, <code>@no_spam</code>です.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(8192px, 768px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-18" class="step future" data-y="768" data-x="8192"><h2>実際にgrepを使ってみよう!</h2>

<ul>
<li>例えば, 配列の要素から10以下の値のみを抜き出した配列を作りたい, という場合を考えます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-19" class="step future" data-y="1536" data-x="0"><h2>今までの場合...</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@num</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">13</span><span class="pun">,</span><span class="pln"> </span><span class="lit">19</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span></code></li><li class="L1"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@mini</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">for</span><span class="pln"> </span><span class="kwd">my</span><span class="pln"> $i </span><span class="pun">(</span><span class="lit">@num</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    push</span><span class="pun">(</span><span class="lit">@mini</span><span class="pun">,</span><span class="pln"> $i</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">$i </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">10</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pun">}</span></code></li><li class="L5"><code><span class="kwd">print</span><span class="pln"> join</span><span class="pun">(</span><span class="str">','</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@mini</span><span class="pun">);</span></code></li></ol></pre>

<ul>
<li>今までに紹介した方法で実現しようとすると, おそらくこんな感じになると思います.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-20" class="step future" data-y="1536" data-x="1024"><h2>grepを使うと...</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@num</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">12</span><span class="pun">,</span><span class="pln"> </span><span class="lit">10</span><span class="pun">,</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="lit">5</span><span class="pun">,</span><span class="pln"> </span><span class="lit">20</span><span class="pun">,</span><span class="pln"> </span><span class="lit">8</span><span class="pun">,</span><span class="pln"> </span><span class="lit">13</span><span class="pun">,</span><span class="pln"> </span><span class="lit">19</span><span class="pun">,</span><span class="pln"> </span><span class="lit">6</span><span class="pun">);</span></code></li><li class="L1"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@mini</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> grep </span><span class="pun">{</span><span class="pln"> $_ </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="lit">@num</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">print</span><span class="pln"> join</span><span class="pun">(</span><span class="str">','</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@mini</span><span class="pun">);</span></code></li></ol></pre>

<ul>
<li>こちらも, たった3行で実現できます! とってもシンプルでいいですね.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-21" class="step future" data-y="1536" data-x="2048"><h2>grepの使い方</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@mini</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> grep </span><span class="pun">{</span><span class="pln"> $_ </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">10</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="lit">@num</span><span class="pun">;</span></code></li></ol></pre>

<ul>
<li>右側に, 入力となる配列を書きます. 今回の場合, <code>@num</code>です.</li>
<li>grepは, <code>{</code>と<code>}</code>で囲った中に書かれた条件を満たす要素のみで配列を作ります.
<ul>
<li>この場合, 配列(今回の場合は<code>@num</code>)の各要素に対して10以下かどうか(<code>$_ &lt;= 10</code>)をチェックして, これを満たす要素のみを含む配列を作ります.</li>
<li>mapと同じく, 入力となる配列の各要素は<code>$_</code>で示されます.</li>
</ul></li>
<li>左側に, 結果を格納する配列を書きます. 今回の場合, <code>@mini</code>です.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-22" class="step future" data-y="1536" data-x="3072"><h2>map/grepを使う利点</h2>

<ul>
<li>紹介したように, map/grepはfor文で書くこともできます.</li>
<li>そこであえてmap/grepを使う理由は, そのコードの意味を明確にできる, という点ではないでしょうか.</li>
<li>grepなら, ｢配列にフィルターをかける｣, mapなら, ｢配列の要素を変換する｣という意味を, コードを読む人に伝えることができます.
<ul>
<li>但し, map/grepを単なるループ処理をする為に使うのはよくない, ...そうです.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-23" class="step future" data-y="1536" data-x="4096"><h2>練習問題(20分)</h2>

<ul>
<li>配列を受け取ると, 受け取った配列の全ての要素に<code>is perl monger!</code>を付け足した配列を返す関数を作ってみよう.</li>
<li>例えば, 配列の要素の1つが<code>papix</code>の場合, <code>papix is perl monger!</code>と書き換えられます.</li>
<li>但し, 配列の要素が<code>yapc</code>の場合, <code>is perl conference!</code>を付け足すようにしましょう.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(5120px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-24" class="step future" data-y="1536" data-x="5120"><h2>めざせ! 正規表現マスター!</h2>

<ul>
<li>データ処理の強い味方, パターンマッチと正規表現について学んでいきます.</li>
<li>パターンマッチや正規表現については以前簡単に説明していますが, 今回はもっと掘り下げていきます.</li>
<li>正規表現は非常に複雑なので, 今回だけで｢正規表現マスター｣になるのは難しいかもしれませんが, ｢正規表現マスター｣を目指してがんばっていきましょう!</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(6144px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-25" class="step future" data-y="1536" data-x="6144"><h2>パターンマッチの復習</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Perl Entrance #7 一緒にPerlを学びましょう!'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"'$str'は'Perl'を含みます."</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="typ">Perl</span><span class="pun">/;</span></code></li></ol></pre>

<ul>
<li>簡単なパターンマッチの例です.</li>
<li><code>$str</code>の文字列中に, <code>/</code>で囲まれた正規表現で示される文字列が存在するなら, ｢マッチした｣と扱われ, 真となります.
<ul>
<li>よって, print文が実行されます(#6で紹介した, 後置ifを使っています).</li>
</ul></li>
<li>この｢パターン｣を表現する為に, 正規表現を使います.
<ul>
<li>使いこなせば, あなたのお仕事を助ける協力な武器になります.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(7168px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-26" class="step future" data-y="1536" data-x="7168"><h2>任意の1文字</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $ans </span><span class="pun">=</span><span class="pln"> </span><span class="str">'y'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$ans </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/[</span><span class="pln">yY</span><span class="pun">]/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"文字列にはyないしYが含まれています.\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>[</code>と<code>]</code>で文字をくくると, []の中の任意の1文字にマッチします.</li>
<li>よって<code>/[yY]/</code>は, <code>y</code>ないし<code>Y</code>にマッチします.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(8192px, 1536px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-27" class="step future" data-y="1536" data-x="8192"><h2>任意の1文字(否定)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $ans </span><span class="pun">=</span><span class="pln"> </span><span class="str">'n'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$ans </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/[^</span><span class="pln">yY</span><span class="pun">]/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"文字列にはyないしY以外の文字が含まれています.\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>[</code>と<code>]</code>で文字をくくり, その先頭に<code>^</code>を置くと, []の中にない任意の1文字にマッチします.</li>
<li>よって<code>/[^yY]/</code>は, <code>y</code>ないし<code>Y</code>以外の文字にマッチします.</li>
<li><code>^</code>は, 必ず<code>[</code>の後に置いて, <code>[^</code>の形で用います.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-28" class="step future" data-y="2304" data-x="0"><h2>任意の1文字(連続)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $ans </span><span class="pun">=</span><span class="pln"> </span><span class="str">'1'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$ans </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/[</span><span class="pln">a</span><span class="pun">-</span><span class="pln">c</span><span class="pun">]/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"文字列にはa, b, cのいずれかが含まれています.\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>[</code>と<code>]</code>の中で, 文字の間に<code>-</code>を挟むことによって, 文字列の範囲を表現できます.</li>
<li>この場合, <code>[a-c]</code>は<code>[abc]</code>と同じ意味になります. <code>[1-5]</code>のように, 数値に対しても利用できます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-29" class="step future" data-y="2304" data-x="1024"><h2>ワイルドカード</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $ans </span><span class="pun">=</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$ans </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">g</span><span class="pun">.</span><span class="pln">t</span><span class="pun">/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>.</code>は, 改行文字(<code>\n</code>)を除く, 任意の1文字にマッチします.</li>
<li>よって<code>/g.t/</code>は, <code>get</code>や<code>got</code>など, <code>g+任意の1文字+t</code>にマッチします.
<ul>
<li><code>.</code>がマッチするのは1文字だけなので, <code>goat</code>などはマッチしません.</li>
<li>また, <code>gt</code>にもマッチしません.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-30" class="step future" data-y="2304" data-x="2048"><h2>量指定子'?'</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $ans </span><span class="pun">=</span><span class="pln"> </span><span class="str">'gt'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$ans </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">g</span><span class="pun">.?</span><span class="pln">t</span><span class="pun">/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>?</code>は, その直前の要素が0個または1個の場合にマッチします.
<ul>
<li>例えば<code>ab?</code>は, <code>a</code>または<code>ab</code>にマッチします.</li>
</ul></li>
<li>よって<code>/g.?t/</code>は, <code>g+任意の1文字+t</code>に加え, <code>gt</code>にもマッチします.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-31" class="step future" data-y="2304" data-x="3072"><h2>量指定子'+'</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $ans </span><span class="pun">=</span><span class="pln"> </span><span class="str">'get'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$ans </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">g</span><span class="pun">.+</span><span class="pln">t</span><span class="pun">/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>+</code>は, その直前の要素が1個以上の場合マッチします.
<ul>
<li>例えば<code>ab+c</code>は, <code>abc</code>や<code>abbbbc</code>などにマッチしますが, <code>ac</code>にはマッチしません.</li>
</ul></li>
<li>よって, <code>/g.+t</code>は, <code>g+任意の1文字以上+t</code>にマッチします.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-32" class="step future" data-y="2304" data-x="4096"><h2>量指定子'*'</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $ans </span><span class="pun">=</span><span class="pln"> </span><span class="str">'great'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$ans </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">g</span><span class="pun">.*</span><span class="pln">t</span><span class="pun">/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>*</code>は, その直前の要素が0個以上の場合マッチします.
<ul>
<li>例えば<code>ab*c</code>は, <code>ac</code>や<code>abc</code>, <code>abbbbbc</code>などにマッチします.</li>
</ul></li>
<li>よって<code>/g.*t/</code>は, <code>g</code>で始まり<code>t</code>で終わる全てのフレーズとマッチします(<code>great</code>など).</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(5120px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-33" class="step future" data-y="2304" data-x="5120"><h2>柔軟な量指定子</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Gyaaaaaaaaa!'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">a</span><span class="pun">{</span><span class="lit">5</span><span class="pun">,}/;</span></code></li><li class="L2"><code><span class="com"># マッチする</span></code></li><li class="L3"><code><span class="kwd">my</span><span class="pln"> $str2 </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Gyaa!'</span><span class="pun">;</span></code></li><li class="L4"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str2 </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">a</span><span class="pun">{</span><span class="lit">5</span><span class="pun">,}/;</span></code></li><li class="L5"><code><span class="com"># マッチしない</span></code></li></ol></pre>

<ul>
<li><code>{m,n}</code> ... その直前の要素がm回以上, n回以下繰り返す場合マッチ</li>
<li><code>{m,}</code> ... その直前の要素がm回以上繰り返す場合マッチ</li>
<li><code>{m}</code> ... その直前の要素がm回繰り返す場合マッチ</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(6144px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-34" class="step future" data-y="2304" data-x="6144"><h2>マッチした文字列の取得</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'私は perl が好きです.'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/私は</span><span class="pln"> </span><span class="pun">(.+)</span><span class="pln"> </span><span class="pun">が好き/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"彼は, $1 が好きです.\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com"># '彼は, perl が好きです'と表示.</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li>正規表現のパターンを<code>()</code>を囲むと, そのパターンに一致する文字列を取得することができます.</li>
<li>例えばこの場合, $1には<code>perl</code>が入り, <code>彼は, perl が好きです.</code>と表示されるはずです.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(7168px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-35" class="step future" data-y="2304" data-x="7168"><h2>マッチした文字列の取得</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'私は perl と 旅行 が好きです.'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/私は</span><span class="pln"> </span><span class="pun">(.+)</span><span class="pln"> </span><span class="pun">と</span><span class="pln"> </span><span class="pun">(.+)</span><span class="pln"> </span><span class="pun">が好き/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"彼は, $1 と $2 が好きです.\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com"># '彼は, perl と 旅行 が好きです.'と表示.</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li>複数の<code>()</code>が存在する場合, 先頭から<code>$1</code>, <code>$2</code>... で取得することができます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(8192px, 2304px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-36" class="step future" data-y="2304" data-x="8192"><h2>マッチングの原則</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hello hoge! Hello fuga!'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$str </span><span class="pun">~=</span><span class="pln"> </span><span class="pun">/</span><span class="typ">Hello</span><span class="pln"> </span><span class="pun">(.+)!/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Nice to meet you, $1!\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>hoge</code>を抜き出して<code>Nice to meet you, hoge!</code>としたいので, このようなコードを書きました.</li>
<li>しかしながら, 実際には<code>Nice to meet you, hoge! Hello fuga!</code>と表示されます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-37" class="step future" data-y="3072" data-x="0"><h2>マッチングの原則</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hello hoge! Hello fuga!'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$str </span><span class="pun">~=</span><span class="pln"> </span><span class="pun">/</span><span class="typ">Hello</span><span class="pln"> </span><span class="pun">(.+?)!/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"Nice to meet you, $1!\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li>これは, 正規表現が｢なるべく長くマッチする(最長マッチ)｣ようになっている為です.</li>
<li>このように, 量指定子のあとに<code>?</code>を付けて, 最短マッチにすれば, <code>Nice to meet you, hoge!</code>と出力されるはずです.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-38" class="step future" data-y="3072" data-x="1024"><h2>練習問題A(15分)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">while</span><span class="pun">(</span><span class="pln"> chomp </span><span class="pun">(</span><span class="kwd">my</span><span class="pln"> $line </span><span class="pun">=</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">STDIN</span><span class="pun">&gt;)</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> $line</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li>上記プログラムは, 標準入力で入力した文字列をそのまま出力するプログラムである.</li>
<li>これを改変して, 入力した文字列に<code>john</code>が含まれる場合のみ, 文字列を出力しないように書き換えてみよう.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-39" class="step future" data-y="3072" data-x="2048"><h2>休憩(10分)</h2>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-40" class="step future" data-y="3072" data-x="3072"><h2>置換</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'abc def ghi'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pln">$str </span><span class="pun">=~</span><span class="pln"> s</span><span class="pun">/</span><span class="pln">abc</span><span class="pun">/</span><span class="pln">ABC</span><span class="pun">/;</span></code></li><li class="L2"><code><span class="com"># $str = 'ABC def ghi';</span></code></li></ol></pre>

<ul>
<li><code>s/PATTERN/REPLACE/</code>で, <code>PATTERN</code>を<code>REPLACE</code>に置換します.</li>
<li>全てのPATTERNを置換したい場合, <code>s/PATTERN/REPLACE/g</code>と表記します.
<ul>
<li>最後にオプションとして<code>g</code>を付けることで, 繰り返し評価します.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-41" class="step future" data-y="3072" data-x="4096"><h2>変数の使用</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'perl ruby python'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">my</span><span class="pln"> $pattern </span><span class="pun">=</span><span class="pln"> </span><span class="str">'perl'</span><span class="pun">;</span></code></li><li class="L2"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">$pattern</span><span class="pun">/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"'$str'には'$pattern'が含まれます.\n"</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li>このように, 正規表現として変数を利用することもできます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(5120px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-42" class="step future" data-y="3072" data-x="5120"><h2>メタ文字</h2>

<ul>
<li>メタ文字を使うと, ｢数字とマッチ｣や｢アルファベットとマッチ｣などといった正規表現を, より簡単に表現することができます.</li>
<li>ここでは, よく使うメタ文字を紹介します.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(6144px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-43" class="step future" data-y="3072" data-x="6144"><h2>メタ文字(1)</h2>

<ul>
<li><p><code>\w</code> ... アルファベット, 数字, アンダーバーの1文字</p>

<ul>
<li><code>[a-zA-Z0-9_]</code>と同じ意味です.</li>
</ul></li>
<li><p><code>\W</code> ... アルファベット, 数字, アンダーバー以外の1文字</p>

<ul>
<li><code>[^a-zA-Z0-9_]</code>と同じ意味です.</li>
</ul></li>
<li><p><code>\d</code> ... 数字の1文字</p>

<ul>
<li><code>[0-9]</code>と同じ意味です.</li>
</ul></li>
<li><p><code>\D</code> ... 数字以外の1文字</p>

<ul>
<li><code>[^0-9]</code>と同じ意味です.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(7168px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-44" class="step future" data-y="3072" data-x="7168"><h2>メタ文字(1)</h2>

<ul>
<li><p><code>\s</code> ... 空白文字にマッチ</p>

<ul>
<li><code>[ \n\r\f\t]</code>と同じ意味です.</li>
</ul></li>
<li><p><code>\S</code> ... 空白文字以外にマッチ</p>

<ul>
<li><code>[^ \n\r\f\t]</code>と同じ意味です.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(8192px, 3072px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-45" class="step future" data-y="3072" data-x="8192"><h2>メタ文字(1) 使い方</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str1 </span><span class="pun">=</span><span class="pln"> </span><span class="str">'2012年7月22日'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$str1 </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/(</span><span class="pln">\d</span><span class="pun">+)年(</span><span class="pln">\d</span><span class="pun">+)月(</span><span class="pln">\d</span><span class="pun">+)日/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"$1/$2/$3"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com"># "2012/7/22"と表示される.</span></code></li><li class="L4"><code><span class="pun">}</span></code></li><li class="L5"><code><span class="kwd">my</span><span class="pln"> $str2 </span><span class="pun">=</span><span class="pln"> </span><span class="str">"この     文章  は\n 読みにく\nい    で  \t        す\n"</span><span class="pun">;</span></code></li><li class="L6"><code><span class="kwd">my</span><span class="pln"> $str2 </span><span class="pun">=~</span><span class="pln"> s</span><span class="pun">/</span><span class="pln">\s</span><span class="pun">+//</span><span class="pln">g</span><span class="pun">;</span></code></li><li class="L7"><code><span class="com"># $str2 = "この文章は読みにくいです";</span></code></li></ol></pre>

<ul>
<li><code>\s</code>を使えば, 余分な空白や改行を抜き取ることができます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-46" class="step future" data-y="3840" data-x="0"><h2>メタ文字(2)</h2>

<ul>
<li><p><code>|</code> ... 選択一致</p>

<ul>
<li>例えば, <code>abc|def|ghi</code>は, <code>abc</code>, <code>def</code>, <code>ghi</code>のいずれかにマッチします.</li>
</ul></li>
<li><p><code>(x)</code> ... グループ化</p>

<ul>
<li>正規表現をグループ化します.</li>
<li>先に説明したように, <code>()</code>の中のパターンにマッチした文字列は記憶されます(後方参照).</li>
</ul></li>
<li><p><code>(?:x)</code> ... 後方参照しないグループ化</p>

<ul>
<li>正規表現をグループ化しますが, <code>()</code>の中のパターンにマッチした文字列は記憶されません.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-47" class="step future" data-y="3840" data-x="1024"><h2>メタ文字(2) 使い方</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'perl is good!'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="pln">$str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/(?:</span><span class="pln">perl</span><span class="pun">|</span><span class="pln">ruby</span><span class="pun">|</span><span class="pln">python</span><span class="pun">)</span><span class="pln"> is </span><span class="pun">(</span><span class="pln">good</span><span class="pun">|</span><span class="pln">bad</span><span class="pun">)!/)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">print</span><span class="pln"> </span><span class="str">"評価は $1 です!\n"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">    </span><span class="com"># "評価は good です!"と表示される.</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre>

<ul>
<li><code>perl</code>, <code>ruby</code>, <code>python</code>を<code>|</code>でつなぎ, <code>(</code>と<code>)</code>で囲うことで, 選択一致をグループ化しています.</li>
<li>更に, <code>(?:</code>とすることで, 後方参照しないようにしています.
<ul>
<li>その為, $1は<code>(good|bad)</code>のパターンにマッチした文字列となります.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-48" class="step future" data-y="3840" data-x="2048"><h2>正規表現のメタ文字(3)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'john is dead.'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"john\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">dead</span><span class="pun">./;</span></code></li><li class="L2"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"john\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">dead\.</span><span class="pun">/;</span></code></li></ol></pre>

<ul>
<li><code>\</code> ... メタ文字を無効化する
<ul>
<li>正規表現の中で特殊な意味を持つ文字(例えば<code>/</code>や<code>.</code>など)を無効化します.</li>
</ul></li>
<li>この場合. <code>$str =~ /dead./</code>は, <code>john is dead!</code>などでもマッチしてしまう(<code>.</code>は任意の1文字とマッチ, なので).</li>
<li><code>\.</code>のようにすれば <code>.</code>そのものとのマッチができます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-49" class="step future" data-y="3840" data-x="3072"><h2>練習問題B(10分)</h2>

<ul>
<li>練習問題Aを改変して, 入力した文字列に<code>john</code>ないし<code>John</code>が含まれる場合のみ, 文字列を出力しないように書き換えてみよう.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-50" class="step future" data-y="3840" data-x="4096"><h2>アンカー(1)</h2>

<ul>
<li>アンカーは, 行頭や行末など, 文字列の特定の位置とマッチします.</li>
<li><code>^</code> ... 行頭</li>
<li><code>\A</code> ... 最初の文字列
<ul>
<li><code>^</code>と<code>\A</code>はよく似ていますが, 複数の行がある文字列に正規表現を行った場合, 挙動が異なります.</li>
<li><code>^</code>は改行の直後(新しい行の行頭)にもマッチしますが, <code>\A</code>は文字列そのものの先頭にしかマッチしません.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(5120px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-51" class="step future" data-y="3840" data-x="5120"><h2>アンカー(2)</h2>

<ul>
<li><code>$</code> ... 行末</li>
<li><code>\Z</code> ... 最後の文字列
<ul>
<li><code>$</code>は改行の直前にもマッチしますが, <code>\A</code>は文字列そのものの最後にしかマッチしません.</li>
<li><code>^</code>と<code>\A</code>の関係と似ています.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(6144px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-52" class="step future" data-y="3840" data-x="6144"><h2>アンカー 使い方</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'john is great'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="com"># 行頭に'john'がある場合のみマッチ</span></code></li><li class="L2"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/^</span><span class="pln">john</span><span class="pun">/;</span></code></li><li class="L3"><code><span class="com"># 行末に'great'がある場合のみマッチ</span></code></li><li class="L4"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">great$</span><span class="pun">/;</span></code></li></ol></pre>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(7168px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-53" class="step future" data-y="3840" data-x="7168"><h2>アンカー(3)</h2>

<ul>
<li><code>\b</code> ... 文字の区切り
<ul>
<li>ここでの文字は, 英数字とアンダーバーを指します.</li>
<li><code>\b</code>は, <code>\w</code>と<code>\W</code>の間とマッチします.</li>
</ul></li>
<li><code>\B</code> ... 文字の区切り以外</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(8192px, 3840px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-54" class="step future" data-y="3840" data-x="8192"><h2>アンカー 使い方</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'lyrical magical'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">lyrical\b</span><span class="pun">/;</span></code></li><li class="L2"><code><span class="com"># マッチします.</span></code></li><li class="L3"><code><span class="kwd">my</span><span class="pln"> $str2 </span><span class="pun">=</span><span class="pln"> </span><span class="str">'lyricalmagical'</span><span class="pun">;</span></code></li><li class="L4"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str2 </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">lyrical\b</span><span class="pun">/;</span></code></li><li class="L5"><code><span class="com"># マッチしません.</span></code></li></ol></pre>

<ul>
<li><code>lyricalmagical</code>は, <code>lyrical</code>の後に文字の区切りが存在しないので, 2つ目の正規表現はマッチしません.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-55" class="step future" data-y="4608" data-x="0"><h2>練習問題C(10分)</h2>

<ul>
<li>練習問題Bを改変して, 以下の場合のみ, 文字列を出力しないように書き換えてみよう.
<ul>
<li>文字列が<code>john</code>, <code>John</code>を含む.</li>
<li>文字列の先頭に<code>betty</code>, <code>Betty</code>を含む.</li>
<li>文字列の最後に<code>great</code>, <code>Great</code>を含む.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-56" class="step future" data-y="4608" data-x="1024"><h2>マッチングの否定</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'john betty beth'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">!~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">beth</span><span class="pun">/;</span></code></li><li class="L2"><code><span class="com"># 何も表示されない.</span></code></li></ol></pre>

<ul>
<li><code>!~</code>演算子は<code>=~</code>演算子の否定です.</li>
<li>よって, 正規表現とマッチした場合は偽, 正規表現とマッチしない場合は真となります.
<ul>
<li>この場合, 文字列に<code>beth</code>を含まない場合, 真となって文字列が出力されます.</li>
</ul></li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-57" class="step future" data-y="4608" data-x="2048"><h2>区切り記号の変更(1)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/usr/local/bin/perl'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">print</span><span class="pln"> </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> m</span><span class="pun">|</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">perl</span><span class="pun">|;</span></code></li></ol></pre>

<ul>
<li>正規表現は<code>/</code>で区切りますが, <code>/</code>だと不都合な場合も多いです(例えば, URLを表記する場合など. 全ての<code>/</code>をエスケープする必要がある).</li>
<li>そこで, <code>m//</code>のように, 先頭に<code>m</code>を付けると, 任意の記号のペアを区切り記号として利用することができます.</li>
<li>この場合, <code>|</code>を区切り記号にしています. よって, <code>/</code>をエスケープする必要はありません.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-58" class="step future" data-y="4608" data-x="3072"><h2>区切り記号の変更(2)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'/usr/local/bin/perl'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pln">$str </span><span class="pun">=~</span><span class="pln"> s</span><span class="pun">|</span><span class="str">/usr/</span><span class="kwd">local</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/|/</span><span class="pln">usr</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">perl</span><span class="pun">|;</span></code></li></ol></pre>

<ul>
<li>置換の場合, このようにできます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-59" class="step future" data-y="4608" data-x="4096"><h2>正規表現のオプション</h2>

<ul>
<li>正規表現では, <code>//</code>の後にオプションを与えることができます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(5120px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-60" class="step future" data-y="4608" data-x="5120"><h2>繰り返してマッチ(g)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hello, hoge! Hello, fuga!'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">my</span><span class="pln"> </span><span class="lit">@name</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">$str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="typ">Hello</span><span class="pun">,</span><span class="pln"> </span><span class="pun">(</span><span class="pln">\w</span><span class="pun">+?)!/);</span></code></li><li class="L2"><code><span class="com"># @name = ('hoge', 'fuga'); となる.</span></code></li></ol></pre>

<ul>
<li><code>g</code>は, 正規表現のマッチングを繰り返し行います.</li>
<li>また, 正規表現に<code>()</code>が含まれる場合, マッチした文字列のうち<code>()</code>の中に含まれる文字列をリストとして返します.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(6144px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-61" class="step future" data-y="4608" data-x="6144"><h2>繰り返してマッチ(g)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'Hello, hoge! Hello, fuga!'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> s</span><span class="pun">/</span><span class="typ">Hello</span><span class="pun">/</span><span class="typ">Good</span><span class="pln"> morning</span><span class="pun">/</span><span class="pln">g</span><span class="pun">;</span></code></li></ol></pre>

<ul>
<li>置換の部分で説明したように, <code>s///g</code>とすると, 置換の処理を繰り返し行なってくれます.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(7168px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.5); -moz-transform-style: preserve-3d;" id="step-62" data-scale="0.5" class="step future" data-y="4608" data-x="7168"><h2>大文字/小文字を区別しない(i)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="kwd">my</span><span class="pln"> $str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'John and Beth'</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pln">pritn </span><span class="str">"マッチ!\n"</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> $str </span><span class="pun">=~</span><span class="pln"> </span><span class="pun">/</span><span class="pln">john</span><span class="pun">/</span><span class="pln">i</span><span class="pun">;</span></code></li></ol></pre>

<ul>
<li><code>i</code>は, 正規表現中のアルファベットの大文字･小文字を区別せずにマッチングを行います.</li>
<li>よって, <code>/john/i</code>は, <code>john</code>はもちろん, <code>John</code>や<code>JOHN</code>, <code>jOhN</code>などにもマッチします.</li>
</ul>

<!-- data-scale="0.5" -->
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(8192px, 4608px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-63" class="step future" data-y="4608" data-x="8192"><h2>練習問題D(10分)</h2>

<ul>
<li>練習問題Cを改変して, 以下の場合のみ, 文字列を出力しないように書き換えてみよう.
<ul>
<li>文字列が<code>john</code>, <code>John</code>を含む.</li>
<li>文字列の先頭に<code>betty</code>, <code>Betty</code>を含む.</li>
<li>文字列の最後に<code>great</code>, <code>Great</code>を含む.</li>
<li>文字列が<code>tom</code>というアルファベットを含む(大文字･小文字問わず).</li>
</ul></li>
<li>また, 出力される文字列に<code>papix</code>が含まれる場合, 全て<code>hoge</code>に書き換えてから出力するようにしてみよう.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(0px, 5376px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.5); -moz-transform-style: preserve-3d;" id="step-64" data-scale="0.5" class="step future" data-y="5376" data-x="0"><h2>質問タイム</h2>

<!-- data-scale="0.5" -->
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(1024px, 5376px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-65" class="step future" data-y="5376" data-x="1024"><h2>最終問題1 (20分~)</h2>

<pre class="lang-perl prettyprint linenums"><ol class="linenums"><li class="L0"><code><span class="pun">ジュース:</span><span class="lit">100</span><span class="pun">円</span></code></li><li class="L1"><code><span class="pun">弁当:</span><span class="lit">300</span><span class="pun">円</span></code></li><li class="L2"><code><span class="pun">漫画:</span><span class="lit">400</span><span class="pun">円</span></code></li><li class="L3"><code><span class="pun">カップ麺:</span><span class="lit">250</span><span class="pun">円</span></code></li><li class="L4"><code><span class="pun">お菓子:</span><span class="lit">100</span><span class="pun">円</span></code></li></ol></pre>

<ul>
<li>このようなテキストを含む<code>price.txt</code>を読み込み, 左側の商品名をキーとして, 右側の価格を値を持つハッシュ<code>%price</code>を作りましょう.</li>
<li>商品名と価格の間は, <code>:</code>で仕切られてるとします.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(2048px, 5376px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(1); -moz-transform-style: preserve-3d;" id="step-66" class="step future" data-y="5376" data-x="2048"><h2>最終問題2 (20分~)</h2>

<ul>
<li>先程の<code>price.txt</code>の価格を1.05倍(消費税を加算)したテキストを, <code>price+.txt</code>に書き出すようにしてみましょう.</li>
</ul>
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(3072px, 5376px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.5); -moz-transform-style: preserve-3d;" id="step-67" data-scale="0.5" class="step future" data-y="5376" data-x="3072"><h2>質問タイム</h2>

<!-- data-scale="0.5" -->
</div><div style="position: absolute; -moz-transform: translate(-50%, -50%) translate3d(4096px, 5376px, 0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg) scale(0.2); -moz-transform-style: preserve-3d;" id="step-68" data-scale="0.2" class="step future" data-y="5376" data-x="4096"><h2>お疲れさまでした</h2>

<!-- data-scale="0.2" -->
</div>
<!--  <div id="overview" class="step" data-x="4096" data-y="2688" data-scale="15"></div> -->
</div></div>

<div class="hint">
  <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) { 
  document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>
<script src="impress.js" type="text/javascript"></script>
<script src="prettify.js" type="text/javascript"></script>
<script src="app.js" type="text/javascript"></script>


</body></html>
